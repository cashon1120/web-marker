{"version":3,"file":"bundle.js","sources":["../src/utils.js","../src/index.js","../src/createBtnDom.js","../src/createDebugDom.js","../src/loadData.js"],"sourcesContent":["export const setDomDisplay = (dom, value) => {\n  dom.style.display = value\n}\n\nexport const setuuid = () => {\n  return new Date().getTime()\n}\n\nexport const setTextSelected = (className, text, id, styles) => {\n  const span = document.createElement('span')\n  span.className = className\n  span.id = id\n  span.innerHTML = text\n  if (styles) {\n    Object.keys(styles).forEach(key => {\n      span.style[key] = styles[key]\n    })\n  }\n  return span\n}\n\nexport const getUserAgent = () => {\n  const u = navigator.userAgent\n  const isAndroid = u.indexOf('Android') > -1 || u.indexOf('Adr') > -1\n  const isiOS = !!u.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/)\n  const isPC = (isAndroid || isiOS) ? false : true\n  const isSafari = /Safari/.test(u) && !/Chrome/.test(u);\n  const eventName = {\n    mousedown: isPC ? 'mousedown' : 'touchstart',\n    mouseup: isPC ? 'mouseup' : 'touchend',\n    mousemove: isPC ? 'mousemove': 'touchmove'\n  }\n  return {\n    isAndroid,\n    isiOS,\n    isPC,\n    isSafari,\n    eventName\n  }\n}\n\nexport const setMarkClassName = (dom, index = 1) => {\n  if(dom === document.body){\n    dom.className = '_WM-0'\n  }\n  if (dom.childNodes) {\n    for (let i = 0; i < dom.childNodes.length; i++) {\n      const childNode = dom.childNodes[i]\n      if (childNode.nodeType === 1) {\n        const ingoreNodes = ['BR', 'HR', 'SCRIPT', 'BUTTON']\n        if (!ingoreNodes.includes(childNode.nodeName)) {\n          childNode.className = childNode.className ? childNode.className + ` _WM-${index}-${i}` : `_WM-${index}-${i}`\n        }\n        if (childNode.childNodes.length > 0) {\n          setMarkClassName(childNode, index + 1 + `-${i}`)\n        }\n      }\n    }\n  }\n}\n\nexport const mergeTextNode = dom => {\n  const parentNode = dom.parentNode\n  if(!parentNode) return\n  const text = dom.innerText\n  const replaceTextNode = document.createTextNode(text)\n  parentNode.replaceChild(replaceTextNode, dom)\n  const preDom = replaceTextNode.previousSibling\n  const nextDom = replaceTextNode.nextSibling\n\n  // 合并文本节点\n  if (preDom && preDom.nodeType === 3) {\n    preDom.textContent = preDom.textContent + text\n    parentNode.removeChild(replaceTextNode)\n    if (nextDom && nextDom.nodeType === 3) {\n      preDom.textContent = preDom.textContent + nextDom.textContent\n      parentNode.removeChild(nextDom)\n    }\n  } else {\n    if (nextDom && nextDom.nodeType === 3) {\n      replaceTextNode.textContent = replaceTextNode.textContent + nextDom.textContent\n      parentNode.removeChild(nextDom)\n    }\n  }\n}\n\nexport const setDomStyles = (dom, styles) => {\n  Object.keys(styles).forEach(key => {\n    dom.style[key] = styles[key]\n  })\n}","import {\n  setDomDisplay,\n  setuuid,\n  setTextSelected,\n  getUserAgent,\n  setMarkClassName,\n  mergeTextNode,\n  setDomStyles\n} from './utils'\nimport createBtnDom from './createBtnDom.js'\nimport createDebugDom from './createDebugDom.js'\nimport loadData from './loadData'\n\nconst disabledElement = ['BUTTON', 'H1', 'H2', 'IMG']\n\n/**\n * @class Marker\n * @param id: id, setuuid() 生成, 一个简单的按当前时间生成的字符串, 不需要太专业\n * @param parentClassName: 父节点className, 对应 selectedMarkers 中的 key,\n * @param childIndex: 在父节点中的索引\n * @param start: 标记开始位置\n * @param end: 标记结束位置\n */\nclass Marker {\n  constructor(id, parentClassName, childIndex, start, end) {\n    this.id = id\n    this.childIndex = childIndex\n    this.start = start\n    this.end = end\n    if (parentClassName) {\n      this.parentClassName = parentClassName\n    }\n  }\n}\n\n/**\n * @class WebTextMarker\n * @param options.defaultMarkers: 初始标记数据\n * @param options.markedStyles: 标记文本样式\n * @param options.btnStyles: 操作框样式\n * @param options.focusMarkedStyles: 选中已标记文本样式\n * @param options.onSave: 标记后回调, 必填\n */\n\nclass WebTextMarker {\n  constructor(options) {\n\n    if (!options || !options.onSave) {\n      throw new Error('options中的 onSave 选项为必填')\n    }\n\n    if (typeof options.onSave !== 'function') {\n      throw new Error('onSave 必须为一个函数')\n    }\n\n    if (options.markedStyles && Object.prototype.toString.call(options.markedStyles) === '[object Object]') {\n      throw new Error('标记样式 markedStyles 必须为一个对象')\n    }\n\n    if (options.btnStyles && Object.prototype.toString.call(options.btnStyles) === '[object Object]') {\n      throw new Error('按钮样式 btnStyles 必须为一个对象')\n    }\n\n    if (options.focusMarkedStyles && Object.prototype.toString.call(options.focusMarkedStyles) === '[object Object]') {\n      throw new Error('标记高亮样式 focusMarkedStyles 必须为一个对象')\n    }\n\n\n    this.MARKED_CLASSNAME = '_web_marker'\n    this.TEMP_MARKED_CLASSNAME = '_temp_marker'\n    this.FOUCE_MARKED_CLASSNAME = '_focus_web_marker'\n\n\n    this.markedStyles = {\n      color: '#fff',\n      backgroundColor: 'cadetblue',\n      ...options.markedStyles\n    }\n\n    this.focusMarkedStyles = {\n      color: '#fff',\n      backgroundColor: '#ffb400',\n      ...options.focusMarkedStyles\n    }\n\n    this.tempMarkerStyles = {\n      color: '#fff',\n      backgroundColor: '#000',\n      ...options.focusMarkedStyles\n    }\n\n    this.options = options || {}\n\n    // 所有标记文本, 格式为: {parentClassName: [Marker, Marker, ...]}, 最后转换成json字符串保存到数据库\n    this.selectedMarkers = {}\n\n    // 选中文本对象, 从 window.getSelection() 中拿\n    this.selectedText = {}\n\n    // 临时标记节点, 主要是 PC 端用\n    this.tempMarkDom = null\n\n    this.hasTempDom = false\n\n    // 临时保存标记信息, 鼠标抬起时设置, 解决点击\"标记\"按钮时 window.getSelection 影响 this.selectedText 的问题\n    this.tempMarkerInfo = {}\n\n    // 要删除的标记 id\n    this.deleteId = ''\n\n    // 是否已标记\n    this.isMarked = false\n\n    // 弹框顶部位置\n    this.pageY = 0\n\n    // 移动端获取点击坐标, touchs[0]\n    this.touch = null\n\n    this.init()\n  }\n\n  init() {\n    const {\n      defaultMarkers,\n      btnStyles,\n      debug\n    } = this.options\n\n    // 获取浏览器环境\n    this.userAgent = getUserAgent()\n\n    // 给每个节点加上特殊标识, 方便后面操作\n    setMarkClassName(document.body)\n\n    // 创建按钮节点\n    createBtnDom(this, btnStyles)\n\n    // 创建调试节点\n    if (debug) {\n      createDebugDom(this)\n      this.debug_userAgaent.innerHTML = `\n        android: ${this.userAgent.isAndroid};&nbsp;&nbsp;&nbsp;\n        iOS: ${this.userAgent.isiOS};&nbsp;&nbsp;&nbsp;\n        pc: ${this.userAgent.isPC}`\n    }\n\n    // 当默认数据时, 设置标记状态, defaultMarkers 格式 this.selectedMarkers \n    if (defaultMarkers && Object.keys(defaultMarkers).length > 0) {\n      this.selectedMarkers = defaultMarkers\n      this.setDefaultMarkers()\n    }\n\n    // 监听事件{}\n    document.addEventListener('selectionchange', this.handleSelectionChange.bind(this))\n    document.addEventListener(this.userAgent.eventName.mousedown, this.handleMouseDown.bind(this))\n\n    // 移动端在选择文本的时候无法监听移动事件, 所以分开处理, 移动端口直接在 selectionchange 事件中控制流程\n    // PC 端的优势在选中文本后先添加一个临时节点, 方便定位, 鼠标抬起后再执行后续, 移动端暂不能做到\n\n    if (this.userAgent.isPC) {\n      document.addEventListener(this.userAgent.eventName.mouseup, this.handleMouseUp.bind(this))\n    }\n  }\n\n  // 选中文本事件\n  handleSelectionChange() {\n\n    if (window.getSelection()) {\n      this.selectedText = window.getSelection()\n      // 没有选中文本时隐藏弹框1\n      if (this.isMarked) {\n        return\n      }\n      if (this.userAgent.isPC) {\n        if (this.checkNoSelectionText() && !this.isMarked && !this.hasTempDom) {\n          this.hide()\n          return\n        }\n        // 当前选中的是已标记节点不执行任何操作\n        if (this.tempMarkDom && this.tempMarkDom.className.indexOf(this.MARKED_CLASSNAME) > -1) return\n        return\n      }\n\n      /*** 下面是移动端的处理 ***/\n\n      // 选中的是已标记文本\n      const {\n        commonAncestorContainer\n      } = this.selectedText.getRangeAt(0)\n\n      if (this.checkNoSelectionText() && !this.isMarked || !this.checkSelectionCount() || disabledElement.includes(commonAncestorContainer.parentNode.nodeName)) {\n        this.hide()\n        return\n      }\n\n      if (this.selectedText.toString().length > 0) {\n        this.handleMouseUp()\n      }\n\n    } else {\n      if (this.options.debug) {\n        this.debug_selectionText.innerHTML = '不支持 window.getSelection 属性'\n      }\n    }\n  }\n\n  // 鼠标按下\n  handleMouseDown(e) {\n    // e.preventDefault()\n    if (this.userAgent.isPC) {\n      this.pageY = e.pageY\n\n    } else {\n      this.touch = e.touches[0]\n    }\n    const tempDom = document.getElementsByClassName(this.TEMP_MARKED_CLASSNAME)[0]\n    if (tempDom) {\n      mergeTextNode(tempDom)\n      this.hide()\n    }\n    const target = e.target\n    if (this.options.debug) {\n      this.debug_event.innerHTML = `当前坐标: ${this.pageY}, 点击目标: ${e.target.className}`\n    }\n    // 当选中的文本已经标记时的处理, 隐藏 \"标记\" 按钮, 显示 \"删除\" 按钮\n    if (target.className.indexOf(this.MARKED_CLASSNAME) > -1) {\n      this.removeFocusStyle()\n      target.className = `${this.MARKED_CLASSNAME} ${this.FOUCE_MARKED_CLASSNAME}`\n      setDomStyles(target, this.focusMarkedStyles)\n      setDomDisplay(this.btn_mark, 'none')\n      setDomDisplay(this.btn_delete, 'block')\n      this.deleteId = e.target.id\n      this.isMarked = true\n      this.tempMarkDom = target\n      setTimeout(() => {\n        this.show()\n      }, 0);\n      return\n    }\n    this.tempMarkDom = null\n    this.isMarked = false\n  }\n\n  // 鼠标抬起事件\n  handleMouseUp() {\n\n    if (this.userAgent.isPC) {\n\n      if (this.checkNoSelectionText()) {\n        return\n      }\n\n      setTimeout(() => {\n        if (this.checkNoSelectionText() && !this.isMarked && !this.hasTempDom) {\n          this.hide()\n        }\n      }, 0);\n\n      const {\n        commonAncestorContainer\n      } = this.selectedText.getRangeAt(0)\n      if (!this.checkSelectionCount() || disabledElement.includes(commonAncestorContainer.parentNode.nodeName)) {\n        return\n      }\n    }\n\n    const {\n      commonAncestorContainer\n    } = this.selectedText.getRangeAt(0)\n    setDomDisplay(this.btn_mark, 'block')\n    setDomDisplay(this.btn_delete, 'none')\n\n    const {\n      anchorOffset,\n      focusOffset\n    } = this.selectedText\n\n\n    const startIndex = Math.min(anchorOffset, focusOffset)\n    const endIndex = Math.max(anchorOffset, focusOffset)\n    const className = commonAncestorContainer.parentNode.className.split(' ')\n    let parentClassName = className[className.length - 1]\n    this.tempMarkerInfo = new Marker(setuuid(), parentClassName, 0, startIndex, endIndex)\n    this.hasTempDom = true\n    if (this.userAgent.isPC) {\n      const text = this.selectedText.toString()\n      const rang = this.selectedText.getRangeAt(0)\n      const span = setTextSelected(this.TEMP_MARKED_CLASSNAME, text, this.tempMarkerInfo.id, this.tempMarkerStyles)\n      rang.surroundContents(span)\n    }\n\n    this.show()\n  }\n\n  hide() {\n    setDomDisplay(this.btn_Box, 'none')\n    this.removeFocusStyle()\n    if (this.userAgent.isPC) {\n      const tempDom = document.getElementsByClassName(this.TEMP_MARKED_CLASSNAME)[0]\n      if (!tempDom || tempDom.className.indexOf(this.MARKED_CLASSNAME) > -1) return\n      mergeTextNode(tempDom)\n      this.hasTempDom = false\n    } else {\n      this.tempMarkDom = null\n    }\n\n\n  }\n\n  show() {\n    setDomDisplay(this.btn_Box, 'flex')\n    let tempDomAttr = null\n    let left = '50%'\n    let top = 0\n    let tempDom = null\n    if (this.tempMarkDom) {\n      tempDom = this.tempMarkDom\n    } else {\n      tempDom = document.getElementsByClassName(this.TEMP_MARKED_CLASSNAME)[0]\n    }\n\n    if (tempDom) {\n      tempDomAttr = tempDom.getBoundingClientRect()\n      left = tempDomAttr.left + tempDom.offsetWidth / 2\n      if (tempDomAttr.width + tempDomAttr.left > window.innerWidth) {\n        left = tempDomAttr.left + 5\n      }\n      top = tempDomAttr.top\n    }\n\n    if (this.userAgent.isPC) {\n      this.btn_Box.style.top = top + window.scrollY - 50 + 'px'\n      this.arrow.style.left = left + 'px'\n    } else {\n      top = tempDom ? top + window.scrollY - 50 : this.touch.pageY - 80\n      left = tempDom ? left : this.touch.pageX\n      this.debug_event.innerHTML = top\n      this.btn_Box.style.top = top + 'px'\n      this.arrow.style.left = left + 'px'\n    }\n  }\n\n  mark(e) {\n    e.stopPropagation()\n    const {\n      parentClassName\n    } = this.tempMarkerInfo\n    if (this.userAgent.isPC) {\n      const tempMarkDom = document.getElementsByClassName(this.TEMP_MARKED_CLASSNAME)[0]\n      tempMarkDom.className = this.MARKED_CLASSNAME\n      Object.keys(this.markedStyles).forEach(key => {\n        tempMarkDom.style[key] = this.markedStyles[key]\n      })\n    } else {\n      const text = this.selectedText.toString()\n      const rang = this.selectedText.getRangeAt(0)\n      const span = setTextSelected(this.MARKED_CLASSNAME, text, this.tempMarkerInfo.id, this.markedStyles)\n      rang.surroundContents(span);\n    }\n\n    if (!this.selectedMarkers[parentClassName]) {\n      this.selectedMarkers[parentClassName] = [this.tempMarkerInfo]\n    } else {\n      this.selectedMarkers[parentClassName].push(this.tempMarkerInfo)\n    }\n\n    this.resetMarker(parentClassName)\n    this.selectedText.removeAllRanges()\n    //console.log(this.selectedMarkers)\n    this.hide()\n    // this.save()\n  }\n\n  resetMarker(parentClassName) {\n    const dom = document.getElementsByClassName(parentClassName)[0]\n    const newMarkerArr = []\n    let preNodeLength = 0\n    for (let i = 0; i < dom.childNodes.length; i++) {\n      const node = dom.childNodes[i]\n      if (node.nodeName === '#text') {\n        preNodeLength = node.textContent.length\n      }\n      // childIndex 为什么是 i - 1 ? 根据当前已经标记节点索引, 在后面反序列的时候才能找到正确位置\n      // 比如当前节点内容为\"xxx <标记节点>ooo</标记节点>\", i 就是 1, 反序列的时候其实他是处于 0 的位置 \n      const childIndex = i - 1\n      this.selectedMarkers[parentClassName].forEach(marker => {\n        if (dom.childNodes[i].id == marker.id) {\n          newMarkerArr.push(new Marker(marker.id, '', childIndex, preNodeLength, preNodeLength + node.textContent.length))\n        }\n      })\n    }\n    if (newMarkerArr.length > 0) {\n      this.selectedMarkers[parentClassName] = newMarkerArr\n    } else {\n      delete this.selectedMarkers[parentClassName]\n    }\n  }\n\n  save() {\n    console.log(this.selectedMarkers)\n    if (this.options.onSave) {\n      this.options.onSave(this.selectedMarkers)\n    }\n    this.hide()\n  }\n\n  del(e) {\n    e.preventDefault()\n    if (this)\n      this.tempMarkDom = null\n    const dom = document.getElementById(this.deleteId)\n    const className = dom.parentNode.className.split(' ')\n    const parentClassName = className[className.length - 1]\n    mergeTextNode(dom)\n    this.resetMarker(parentClassName)\n    this.save()\n  }\n\n  setDefaultMarkers() {\n    const defaultMarkers = this.selectedMarkers\n    Object.keys(defaultMarkers).forEach(className => {\n      const dom = document.getElementsByClassName(className)[0]\n      defaultMarkers[className].forEach(marker => {\n        const currentNode = dom.childNodes[marker.childIndex]\n        currentNode.splitText(marker.start);\n        const nextNode = currentNode.nextSibling;\n        nextNode.splitText(marker.end - marker.start)\n        const markedNode = setTextSelected(this.MARKED_CLASSNAME, nextNode.textContent, marker.id, this.markedStyles)\n        dom.replaceChild(markedNode, nextNode)\n      })\n    })\n  }\n\n  checkSelectionCount() {\n    // 判断是否选中了多个， 如果只选中了一个节点 nodeType === 3\n    // 还有一种判断方式, getRangeAt(0).endContainer !== getRangeAt(0).startContainer 意味着选中了多个节点\n    return this.selectedText.getRangeAt(0).endContainer === this.selectedText.getRangeAt(0).startContainer\n  }\n\n  checkNoSelectionText() {\n    return this.selectedText.toString().length === 0 || !this.selectedText.getRangeAt\n  }\n\n  removeFocusStyle() {\n    const focusMarker = document.getElementsByClassName(this.FOUCE_MARKED_CLASSNAME)[0]\n    if (focusMarker) {\n      focusMarker.className = this.MARKED_CLASSNAME\n      setDomStyles(focusMarker, this.markedStyles)\n    }\n  }\n\n}\n\nwindow.WebTextMarker = WebTextMarker\n\nloadData()","import {\n  getUserAgent,\n  setDomStyles\n} from './utils'\n\nconst createBtnDom = (textMarker, styles) => {\n  const defaultStyles = {\n    position: 'absolute',\n    textAlign: 'center',\n    width: '100%',\n    left: 0,\n    top: 0,\n    padding: '0 15px',\n    height: '35px',\n    lineHeight: '35px',\n    backgroundColor: 'black',\n    borderRadius: 3,\n    display: 'none',\n    color: '#fff',\n    transition: 'all .3s',\n    boxSizing: 'border-box',\n    ...styles\n  }\n  const btnBox = document.createElement('div')\n\n  btnBox.id = 'webMarkerBtnBox'\n  setDomStyles(btnBox, defaultStyles)\n\n  btnBox.style.backgroundColor = 'transparent'\n  const divStyle = `flex: 1; background-color: ${defaultStyles.backgroundColor}; border-right: 1px solid rgba(255,255,255,.3); box-sizing: border-box;`\n  btnBox.innerHTML = `\n      <div style=\"${divStyle}\" id=\"webMarker_btn_mark\">标记</div>\n      <div style=\"${divStyle}\" id=\"webMarker_btn_delete\">删除选中标记</div>\n      <div style=\"${divStyle}\" id=\"webMarker_btn_cancel\">取消</div>\n      <div style=\"${divStyle}; border-right: 0\" id=\"webMarker_btn_save\">保存所有</div>\n      <div id=\"webMarker_arrow\"></div>\n    `\n\n  document.body.appendChild(btnBox)\n\n  const arrow = document.getElementById('webMarker_arrow')\n  arrow.style.position = 'absolute'\n  arrow.style.width = '10px'\n  arrow.style.height = '10px'\n  arrow.style.backgroundColor = defaultStyles.backgroundColor\n  arrow.style.left = '50%'\n  arrow.style.marginLeft = '-5px'\n  arrow.style.bottom = '-5px'\n  arrow.style.transform = 'rotate(45deg)'\n  arrow.style.transition = 'all .3s'\n\n  textMarker.arrow = arrow\n  textMarker.btn_Box = document.getElementById('webMarkerBtnBox')\n  textMarker.btn_mark = document.getElementById('webMarker_btn_mark')\n  textMarker.btn_cancel = document.getElementById('webMarker_btn_cancel')\n  textMarker.btn_delete = document.getElementById('webMarker_btn_delete')\n  textMarker.btn_save = document.getElementById('webMarker_btn_save')\n\n  textMarker.btn_mark.addEventListener(getUserAgent().eventName.mousedown, textMarker.mark.bind(textMarker))\n  textMarker.btn_cancel.addEventListener(getUserAgent().eventName.mousedown, textMarker.hide.bind(textMarker))\n  textMarker.btn_delete.addEventListener(getUserAgent().eventName.mousedown, textMarker.del.bind(textMarker))\n  textMarker.btn_save.addEventListener(getUserAgent().eventName.mousedown, textMarker.save.bind(textMarker))\n\n\n}\n\nexport default createBtnDom","import {setDomStyles} from './utils'\n\nconst createDebugDom = textMarker => {\n    const styles = {\n      position: 'fixed',\n      width: '100%',\n      bottom: 0,\n      left: 0,\n      padding: '10px',\n      transition: 'all .3s',\n      boxSizing: 'border-box',\n      backgroundColor: '#f1f1f1',\n\t\t\tfontSize: '12px',\n\t\t\tborderTop: '1px solid #ddd',\n    }\n    const debugDom = document.createElement('div')\n\n    debugDom.id = 'webMarkerDebugBox'\n    setDomStyles(debugDom, styles)\n    debugDom.innerHTML = `\n      <div id=\"debug_userAgaent\"></div>\n      <div id=\"debug_selectionText\">选中文本:</div>\n      <div id=\"debug_event\">事件:</div>\n    `\n\n    // \n    document.body.appendChild(debugDom)\n    textMarker.debug_userAgaent = document.getElementById('debug_userAgaent')\n    textMarker.debug_selectionText = document.getElementById('debug_selectionText')\n    textMarker.debug_event = document.getElementById('debug_event')\n  }\n\n  export default createDebugDom","const loadData = () => {\n  window.addEventListener('load', () => {\n\n    // 获取已有数据\n    let defaultMarkers = {}\n    if (window.jsObject && window.jsObject.getCallBack) {\n      if(window.jsObject.getCallBack().length > 0){\n        defaultMarkers = JSON.parse(window.jsObject.getCallBack())\n      }\n      \n      document.getElementById('windowobject').innerHTML = window.jsObject.getCallBack().length\n    } else {\n    \n      defaultMarkers = JSON.parse(localStorage.getItem('markers'))\n      document.getElementById('windowobject').innerHTML = '没有 getCallBack 对象'\n    }\n  \n    const myTextMarker = new window.WebTextMarker({\n      defaultMarkers,\n      debug: true,\n      onSave: markers => {\n        const markersJson = JSON.stringify(markers)\n        if (myTextMarker.userAgent.isAndroid && window.jsObject) {\n          window.jsObject.save(markersJson)\n          return\n        }\n  \n        if (myTextMarker.userAgent.isiOS) {\n          // window.webkit.jsObject.callBack.postMessage(this.selectedMarkers)\n          return\n        }\n  \n        localStorage.setItem('markers', markersJson)\n      }\n    })\n  })\n}\n\nexport default loadData "],"names":["setDomDisplay","dom","value","style","display","setTextSelected","className","text","id","styles","span","document","createElement","innerHTML","Object","keys","forEach","key","getUserAgent","u","navigator","userAgent","isAndroid","indexOf","isiOS","match","isPC","isSafari","test","eventName","mousedown","mouseup","mousemove","setMarkClassName","index","body","childNodes","i","length","childNode","nodeType","includes","nodeName","mergeTextNode","parentNode","innerText","replaceTextNode","createTextNode","replaceChild","preDom","previousSibling","nextDom","nextSibling","textContent","removeChild","setDomStyles","disabledElement","Marker","[object Object]","parentClassName","childIndex","start","end","this","window","WebTextMarker","options","onSave","Error","markedStyles","prototype","toString","call","btnStyles","focusMarkedStyles","MARKED_CLASSNAME","TEMP_MARKED_CLASSNAME","FOUCE_MARKED_CLASSNAME","color","backgroundColor","tempMarkerStyles","selectedMarkers","selectedText","tempMarkDom","hasTempDom","tempMarkerInfo","deleteId","isMarked","pageY","touch","init","defaultMarkers","debug","textMarker","defaultStyles","position","textAlign","width","left","top","padding","height","lineHeight","borderRadius","transition","boxSizing","btnBox","divStyle","appendChild","arrow","getElementById","marginLeft","bottom","transform","btn_Box","btn_mark","btn_cancel","btn_delete","btn_save","addEventListener","mark","bind","hide","del","save","createBtnDom","debugDom","fontSize","borderTop","debug_userAgaent","debug_selectionText","debug_event","createDebugDom","setDefaultMarkers","handleSelectionChange","handleMouseDown","handleMouseUp","getSelection","checkNoSelectionText","commonAncestorContainer","getRangeAt","checkSelectionCount","e","touches","tempDom","getElementsByClassName","target","removeFocusStyle","setTimeout","show","anchorOffset","focusOffset","startIndex","Math","min","endIndex","max","split","Date","getTime","rang","surroundContents","tempDomAttr","getBoundingClientRect","offsetWidth","innerWidth","scrollY","pageX","stopPropagation","push","resetMarker","removeAllRanges","newMarkerArr","preNodeLength","node","marker","console","log","preventDefault","currentNode","splitText","nextNode","markedNode","endContainer","startContainer","focusMarker","jsObject","getCallBack","JSON","parse","localStorage","getItem","myTextMarker","markers","markersJson","stringify","setItem"],"mappings":"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"}